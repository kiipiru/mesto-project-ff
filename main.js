(()=>{"use strict";function e(e,t,n,o,r){var c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),d=c.querySelector(".card__delete-button"),u=c.querySelector(".card__like-button"),i=c.querySelector(".card__image"),p=c.querySelector(".card__title");return p.textContent=e,i.src=t,i.alt=e,d.addEventListener("click",(function(){return n(c)})),u.addEventListener("click",(function(){return o(u)})),i.addEventListener("click",(function(){return r(i.src,p.textContent)})),c}function t(e){e.remove()}function n(e){e.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",c)}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",c)}function c(e){"Escape"===e.key&&r(document.querySelector(".popup_is-opened"))}var d=document.querySelector(".places__list"),u=document.querySelector(".profile__add-button"),i=document.querySelectorAll(".popup"),p=document.querySelector(".popup_type_image"),s=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-card"),l=document.querySelector(".popup__image"),m=document.querySelector(".popup__caption"),f=document.querySelector(".profile__edit-button"),_=document.querySelectorAll(".popup__close"),v=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),k=document.forms["new-place"],q=document.forms["edit-profile"],S=k.elements["place-name"],E=k.elements.link,L=q.elements.name,g=q.elements.description;function h(e,t){l.src=e,l.alt=t,m.textContent=t,o(p)}i.forEach((function(e){e.classList.add("popup_is-animated")})),i.forEach((function(e){e.addEventListener("click",(function(e){!function(e){e.target.classList.contains("popup_is-opened")&&r(e.target)}(e)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(o){var r,c;c=e((r=o).name,r.link,t,n,h),d.append(c)})),q.addEventListener("submit",(function(e){e.preventDefault(),v.textContent=L.value,y.textContent=g.value,r(s)})),k.addEventListener("submit",(function(o){!function(o){o.preventDefault();var c=e(S.value,E.value,t,n,h);d.prepend(c),r(a),k.reset()}(o)})),_.forEach((function(e){e.addEventListener("click",(function(){r(e.closest(".popup"))}))})),f.addEventListener("click",(function(){o(s),L.value=v.textContent,g.value=y.textContent})),u.addEventListener("click",(function(){o(a)}))})();